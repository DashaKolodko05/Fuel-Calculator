package org.example

fun main() {
    println("=== ПРАКТИЧНА РОБОТА №5 ===")
    println("Виконала: Колодько Дар'я (Варіант 3)")
    println("--------------------------------------------------")

    // --- ЗАВДАННЯ 1. Порівняння надійності систем (Приклад 3.1) ---
    println(">>> ЗАВДАННЯ 1: Порівняння надійності одноколової та двоколової систем")

    // Вхідні дані для елементів одноколової системи (omega - частота відмов, t_v - час відновлення, mu - частота ремонтів, t_p - час ремонту)
    // 1. Вимикач 110 кВ (елегазовий)
    val w_v110 = 0.01; val tv_v110 = 30.0; val tp_v110 = 30.0
    // 2. ПЛ-110 кВ (10 км)
    val w_pl110 = 0.007 * 10; val tv_pl110 = 10.0; val tp_pl110 = 35.0
    // 3. Трансформатор 110/10 кВ
    val w_t = 0.015; val tv_t = 100.0; val tp_t = 43.0
    // 4. Вимикач 10 кВ (ввідний, малооливний) - беремо як у прикладі
    val w_v10 = 0.02; val tv_v10 = 15.0; val tp_v10 = 15.0
    // 5. Збірні шини 10 кВ (6 приєднань)
    val w_sh = 0.03 * 6; val tv_sh = 2.0; val tp_sh = 5.0

    // Сумарна частота відмов одноколової системи
    val w_oc = w_v110 + w_pl110 + w_t + w_v10 + w_sh

    // Середня тривалість відновлення (зважена)
    val t_v_oc = (w_v110*tv_v110 + w_pl110*tv_pl110 + w_t*tv_t + w_v10*tv_v10 + w_sh*tv_sh) / w_oc

    // Коефіцієнт аварійного простою
    val ka_oc = (w_oc * t_v_oc) / 8760.0

    // Коефіцієнт планового простою (визначається за елементом з найбільшою тривалістю ремонту - Трансформатор)
    val kp_oc = 1.2 * (tp_t / 8760.0)

    println("ОДНОКОЛОВА СИСТЕМА:")
    println("Частота відмов (omega_oc): ${String.format("%.4f", w_oc)} рік^-1")
    println("Середній час відновлення (t_v_oc): ${String.format("%.2f", t_v_oc)} год")
    println("Коефіцієнт аварійного простою (ka_oc): ${String.format("%.6f", ka_oc)}")
    println("Коефіцієнт планового простою (kp_oc): ${String.format("%.6f", kp_oc)}")

    // Розрахунок для двоколової системи
    // Частота відмов одночасно двох кіл
    val w_dk = 2 * w_oc * (ka_oc + kp_oc)

    // Частота відмов з урахуванням секційного вимикача
    val w_sv = 0.02 // Секційний вимикач
    val w_dc = w_dk + w_sv

    println("\nДВОКОЛОВА СИСТЕМА:")
    println("Частота відмов одночасно двох кіл (omega_dk): ${String.format("%.6f", w_dk)} рік^-1")
    println("Частота відмов двоколової системи (omega_dc): ${String.format("%.6f", w_dc)} рік^-1")

    println("\nВисновок: Надійність двоколової системи значно вища (відмови трапляються рідше).")


    // --- ЗАВДАННЯ 2. Розрахунок збитків (Приклад 3.2) ---
    println("\n--------------------------------------------------")
    println(">>> ЗАВДАННЯ 2: Розрахунок збитків від перерв електропостачання")

    // Вхідні дані з прикладу 3.2
    val Z_per_a = 23.6 // Питомі збитки (аварійні), грн/кВт*год
    val Z_per_p = 17.6 // Питомі збитки (планові), грн/кВт*год

    val omega = 0.01 // Частота відмов трансформатора
    val tb = 45e-3 * 8760 // Час відновлення (45*10^-3 року в години) -> ~394 год?
    // У прикладі методички tb = 45*10^-3 року. Це 0.045 року.
    val tb_year = 0.045
    val Pm = 5.12e3 // Середнє навантаження, кВт
    val Tm = 6451.0 // Число годин використання максимуму

    val kp = 4e-3 // Коефіцієнт планового простою

    // Математичне сподівання аварійного недовідпущеної енергії
    val M_W_ned_a = omega * tb_year * Pm * Tm

    // Математичне сподівання планового недовідпущеної енергії
    val M_W_ned_p = kp * Pm * Tm

    // Математичне сподівання збитків
    val M_Z_per = Z_per_a * M_W_ned_a + Z_per_p * M_W_ned_p

    println("Математичне сподівання аварійного недовідпущення (MW_ned_a): ${String.format("%.2f", M_W_ned_a)} кВт*год")
    println("Математичне сподівання планового недовідпущення (MW_ned_p): ${String.format("%.2f", M_W_ned_p)} кВт*год")
    println("Математичне сподівання збитків (M_Z_per): ${String.format("%.2f", M_Z_per)} грн")
}
